if (self.CavalryLogger) { CavalryLogger.start_js(["aWTb8"]); }

__d("HostnameRewriter",["URI","isFacebookURI","lowerFacebookDomain"],(function(a,b,c,d,e,f){__p&&__p();var g=function(a){return String(a).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},h=null,i=null,j=new RegExp("^(.*(?:channel-proxy|edge-chat).*)\\.(facebook\\.com)$","i"),k=new RegExp("facebook\\.com$"),l=new RegExp("^www\\.(|.*\\.)facebook\\.com$"),m=null,n="facebook.com",o=!1,p=!1,q=new RegExp("facebookcorewwwi\\.onion$"),r=new RegExp("facebookcorewwwi\\.testonion$"),s=new RegExp("fbcdn\\.net$"),t="fbcdn23dssr3jqnq.onion",u="fbcdn23dssr3jqnq.testonion",v=new RegExp("^www\\."),w=new RegExp("(^|\\.)(facebook\\.com|workplace\\.com)$","i");function x(a){h=null;a?a="(^|\\.)":a="^";m=a+g(n)+"$";i=null}function y(){if(m==null)return null;if(h)return h;h=new RegExp(m,"i");return h}function z(){if(i)return i;i=new RegExp("(^|\\.)("+g(n)+"|facebook\\.com)$","i");return i}function A(){return function(a){a=new(b("URI"))(a);var c=j.exec(a.getDomain());if(!c||c.length<3)return a;a.setDomain("edge-chat."+c[2]);return a}}function B(){return function(a){a=new(b("URI"))(a);z().test(a.getDomain())&&a.setProtocol("https");return a}}function C(){return function(a){a=new(b("URI"))(a);var c=a.getDomain();z().test(c)&&n!=null?a.setDomain(c.replace(k,n)):o&&c!==null?a.setDomain(c.replace(s,t)):p&&c!==null&&a.setDomain(c.replace(s,u));return a}}function D(){return function(a){a=new(b("URI"))(a);var c=a.getDomain();l.test(c)&&a.setDomain(c.replace(v,"web."));return a}}a={registerFacebookFilters:function(a,c){n=a,o=n!=null&&q.test(n),p=n!=null&&r.test(n),x(c),b("isFacebookURI").setRegex(y()),b("URI").registerFilter(A()),b("URI").registerFilter(B()),b("URI").registerFilter(C()),b("lowerFacebookDomain").setDomain(n)},registerInternetDotOrgFilters:function(a,c){n=a,b("URI").registerFilter(D())},treatWorkplaceAsFacebookURI:function(){b("isFacebookURI").setRegex(w)}};e.exports=a}),null);
__d("XBrowseLoggerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/browse/logger/",{data:{type:"HackType",required:!0}})}),null);
__d("BrowseLogger",["AsyncRequest","Banzai","Run","XBrowseLoggerController","mapObject"],(function(a,b,c,d,e,f){__p&&__p();var g="browse",h="browse_aggr",i=null,j={},k={},l=function(a){if(a==null)return"undefined";var b=a.tagName.toLowerCase(),c=a.id;a=a.className;c&&(b+="#"+c);a&&(b+="."+a);return b};function m(){i=null,j={},k={}}function n(a){return Object.assign(a,{clientSessionID:i})}function o(a){b("Banzai").post(g,n(a))}function p(a){a=b("XBrowseLoggerController").getURIBuilder().setHackType("data",n(a)).getURI();new(b("AsyncRequest"))().setURI(a).send()}function q(){if(i===null)return;k.aggregated=j;b("Banzai").post(h,n(k));m()}function r(a){j[a]=(j[a]||0)+1}function s(a){Object.assign(k,a)}b("Run").onUnload(q);a={newSession:function(){q(),i=Math.random().toString(),k.start_time||(k.start_time=Math.round(Date.now()/1e3))},logResultClick:function(a,c,d,e,f,g,h){g===void 0&&(g=null);h={action:"result_click",click_type:a.ct||"result",section:a.section||"unknown",id:a.id||-1,path:a.path||"unknown",rank:a.rank||0,referrer:a.referrer||"unknown",result_type:a.result_type||"unknown",session_id:a.session_id||0,query_time:a.query_time||null,abtest_version:a.abtest_version||"NONE",abtest_params:a.abtest_params||null,typeahead_sid:a.typeahead_sid||"",source_module_role:a.source_module_role||"",result_title:a.result_title||"unknown",result_href:a.result_href||"unknown",result_semantic:a.result_semantic||"unknown",type:a.experience_type||"unknown",click_action:d||null,sub_id:a.sub_id||null,owner_id:a.owner_id||null,browse_location:a.browse_location||"unknown",query_data:a.query_data||"unknown",is_headline:a.is_headline||!1,qid:c.qid||0,mf_story_key:c.mf_story_key||0,module:a.module||"NONE",view:a.view||null,clicked_href:f||null,bt_key:g};c.tn&&(h.tn=c.tn);a.cst&&(h.click_subtype=a.cst);r("result_click_"+h.click_type);s({path:h.path,referrer:h.referrer,result_type:h.result_type,session_id:h.session_id,abtest_version:h.abtest_version,abtest_params:h.abtest_params,typeahead_sid:h.typeahead_sid});g?p(h):o(h);!a.id&&a.browse_location!=="browse_location:mf_trending"&&!g&&o({action:"logging_error",click_action:d,click_type:h.click_type,attributes:JSON.stringify(a),element:b("mapObject")({srcElement:e.srcElement,target:e.target,toElement:e.toElement},l),event:{button:e.button,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,layerX:e.layerX,layerY:e.layerY,offsetX:e.offsetX,offsetY:e.offsetY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY,shiftKey:e.shiftKey,type:e.type,x:e.x,y:e.y}})},logControlsClick:function(a,b){var c={action:"controls_click",click_type:b,path:a.path||"unknown",referrer:a.referrer||"unknown",session_id:a.session_id||0,query_time:a.query_time,filter_name:a.name||"unknown",typeahead_sid:a.typeahead_sid||"",result_type:a.result_type||"unknown",type:a.experience_type||"unknown"};a.cst&&(c.click_subtype=a.cst);r("controls_click_"+b);s({path:c.path,referrer:c.referrer,session_id:c.session_id,typeahead_sid:c.typeahead_sid});o(c)},logResultHover:function(a,b,c){c===void 0&&(c=null);b={action:"result_hover",id:a.id||0,path:a.path||"unknown",rank:a.rank||null,result_type:a.result_type||"unknown",session_id:a.session_id||0,query_time:a.query_time||null,time_elapsed:b||null,typeahead_sid:a.typeahead_sid||0,type:a.experience_type||"unknown",module:a.module||"NONE",view:a.view||null,bt_key:c};r("result_hover");s({path:b.path,session_id:b.session_id,typeahead_sid:b.typeahead_sid});c?p(b):o(b)},logScroll:function(a,b,c,d){a={action:"scroll",encoded_query:a,fragments:b,position:c,session_id:d||0};o(a)},logNUXStep:function(a){a={action:"nux_step",step:a};o(a)},logDisambiguationImpression:function(a,b,c,d,e){d={action:"disambiguation_imp",ids:d,name:a,path:c,type:b,typeahead_sid:e};o(d)},logDisambiguationClick:function(a,b,c,d,e,f){e={action:"disambiguation_clk",id:e,index:d,name:a,path:c,type:b,typeahead_sid:f};o(e)},logDYMLinkClick:function(a,b,c,d){b={action:"dym_click",path:a.path||"unknown",referrer:a.referrer||"unknown",session_id:a.session_id||0,query_time:a.query_time,abtest_version:a.abtest_version||"NONE",abtest_params:a.abtest_params,typeahead_sid:a.typeahead_sid||"",type:a.experience_type||"unknown",click_action:c,sub_id:a.sub_id,owner_id:a.owner_id,browse_location:a.browse_location||"unknown",query_data:a.query_data||"unknown",module:a.module||"NONE",view:a.view,dym_confidence:a.dym_confidence||"NONE",dym_query:a.dym_query||"",dym_correction:a.dym_correction||"",dym_clicked:a.dym_clicked||""};o(b)}};e.exports=a}),null);
__d("BrowseClickLogger",["BanzaiODS","BrowseClientEventLogger","BrowseLogger","DOMQuery","Event","Parent","collectDataAttributes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){__p&&__p();var d=a.target,e=b("collectDataAttributes")(d,["bt","ft","gt"],["data-bt-key"]);e.bt&&e.bt.path&&(e.bt.path+=document.location.search);e.gt.tn=e.ft.tn;e.gt.click_type=e.bt.ct||"result";var f=b("Parent").byAttribute(d,"href");f=f!=null?f.href:null;e.gt.clicked_href=f;b("BrowseClientEventLogger").logClick(e);if(e.bt==null||e.ft==null)return;b("DOMQuery").scry(d,"^.recourse-link").length>0?c==="left_click"&&b("BrowseLogger").logDYMLinkClick(e.bt,e.ft,c,a):b("BrowseLogger").logResultClick(e.bt,e.ft,c,a,f,e.normal["data-bt-key"],e.gt.xt)}var h=!1;a={init:function(a){h?b("BanzaiODS").bumpEntityKey(2966,"search.www.browse_click_logger","duplicate_initialization"):h=!0,b("Event").listen(a,"mousedown",function(a){var b=a.button===2||a.which===3?"right_click":"left_click";a.shiftKey&&(b+="_shift");a.altKey&&(b+="_alt");(a.metaKey||a.ctrlKey)&&(b+="_ctrl");g(a,b)}.bind(this))},logClick:g};e.exports=a}),null);
__d("XUIPageNavigationItem.react",["cx","AsyncRequest","React","TabBarItem.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onClick=function(a,c){if(d.props.disabled)return null;d.props.ajaxify&&d.props.rel==="async"&&new(b("AsyncRequest"))(d.props.ajaxify).send();return d.props.onClick?d.props.onClick(a,c):!0},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){__p&&__p();var a=(this.props.disabled?"_7x7s":"")+" _5vwz"+(this.props.selected?" _5vwy":""),c=this.props;if(c.ajaxify&&c.rel==="async"){var d=c;d.ajaxify;d.rel;d=babelHelpers.objectWithoutPropertiesLoose(d,["ajaxify","rel"]);c=d;c.onClick=this.onClick}d=this.props.children;var e,f=typeof d==="string"?d:b("React").isValidElement(d)&&d.props.children&&d.props.children.textContent;if(f){var g=c.maxWidth!=null?{maxWidth:c.maxWidth}:null;d=b("React").createElement("div",{className:"_4xjz"},d);e=b("React").createElement("div",{className:"_4xj-","aria-hidden":!0,style:g},f)}f=(g=c.itemContentClass)!=null?g:"_4jq5";return b("React").createElement(b("TabBarItem.react"),babelHelpers["extends"]({},c,{className:b("joinClasses")(this.props.className,a)}),b("React").createElement("div",{className:f},d,e),b("React").createElement("span",{className:this.props.disabled?"":"_13xf"}))};return c}(b("React").Component);a.defaultProps={selected:!1};e.exports=a}),null);
__d("XUIPageNavigationGroup.react",["React","TabBar.react","XUIPageNavigationItem.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidUpdate=function(){this.refs.bar.setWidth(this.props.width)};d.componentDidMount=function(){this.refs.bar.setWidth(this.props.width)};d.render=function(){return b("React").createElement(b("TabBar.react"),babelHelpers["extends"]({},this.props,{ref:"bar"}),this.props.children)};return c}(b("React").Component);c.Item=b("XUIPageNavigationItem.react");c.propTypes={moreLabel:a.string,maxTabsVisible:function(a,b,c){a=a[b];if(a!=null&&!(typeof a==="number"&&a>=0))throw new Error("Invalid `"+b+"` supplied to `"+c+"`, expected positive integer.")},width:a.string};c.defaultProps={maxTabsVisible:Infinity};e.exports=c}),null);
__d("XUIPageNavigation.react",["csx","cx","invariant","Arbiter","CSS","DOMQuery","Event","LeftRight.react","React","ReactDOM","Run","SubscriptionsHandler","UITinyViewportAction","Vector","ViewportBounds","XUIPageNavigationGroup.react","joinClasses","killswitch","throttle"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=15;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={activeTabKey:void 0,leftWidth:null},d.onTabClick=function(a,c){if(d.props.onTabClick){var e=d.props.onTabClick(a,c);if(!e)return e}b("Arbiter").inform("pageNavigation/tabChanged");c.button===0&&d.setState({activeTabKey:a});return!0},d.resizeNavbarGroups=function(){__p&&__p();if(!d.refs.left)return;var a=b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d));a=a instanceof Element?a.clientWidth:0;if(isNaN(a)||a===0)return;if(!isNaN(d.$4)&&d.refs.right){var c=a-d.$4-j;d.$4<c&&(c=d.$4-j);d.setState({rightWidth:c+"px"})}if(!isNaN(d.$3)){c=a-d.$3-j;c<d.$3&&(c=d.$3+j);d.setState({leftWidth:String(c)+"px"})}else d.refs.right||d.setState({leftWidth:String(a)+"px"})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this;this.$5=new(b("SubscriptionsHandler"))();this.resizeNavbarGroups();this.$6();var c="^.fixed_elem._5vx1";this.wrapper=b("DOMQuery").scry(b("ReactDOM").findDOMNode(this),c)[0];this.wrapper&&(this.$7(),b("killswitch")("SEARCH_WWW_XUIPAGENAVIGATION_AUGMENT_FIXED_POSITION")||b("Run").onCleanupOrLeave(this.wrapper,function(){a.$1!=null&&a.$1.remove()}),b("killswitch")("SEARCH_WWW_XUIPAGENAVIGATION_AUGMENT_FIXED_POSITION")||b("UITinyViewportAction").isTiny()&&b("CSS").removeClass(this.wrapper,"fixed_elem"),this.$5.addSubscriptions(b("UITinyViewportAction").subscribe("change",function(){this.$1.remove(),b("UITinyViewportAction").isTiny()?b("killswitch")("SEARCH_WWW_XUIPAGENAVIGATION_AUGMENT_FIXED_POSITION")||b("CSS").removeClass(this.wrapper,"fixed_elem"):(b("killswitch")("SEARCH_WWW_XUIPAGENAVIGATION_AUGMENT_FIXED_POSITION")||b("CSS").addClass(this.wrapper,"fixed_elem"),this.$7())}.bind(this))));this.props.showDropShadowOnScroll&&(this.wrapper||b("DOMQuery").scry(b("ReactDOM").findDOMNode(this),"^._k").length)&&this.props.scrollThreshold!==null&&this.$8()};d.componentWillUnmount=function(){this.$5.release()};d.onWidthCalculated=function(a,b){a?this.$3=b:this.$4=b};d.render=function(){__p&&__p();var a=this,c,d="_5vx2 _5vx4";d=b("joinClasses")(d,this.props.className);var e=[],f=(c=(c=this.props.activeTabKey)!=null?c:this.state.activeTabKey)!=null?c:this.props.defaultActiveTabKey;b("React").Children.forEach(this.props.children,function(c,d){if(c===null)return;var g={onTabClick:a.onTabClick,activeTabKey:f,onWidthCalculated:a.onWidthCalculated.bind(a,d),ref:d?"right":"left",key:d,width:void 0};d===0&&(g.width=a.state.leftWidth);e.push(b("React").cloneElement(c,g))});e.length===1||e.length===2||i(0,114,e.length);return b("React").createElement("div",{className:d},b("React").createElement(b("LeftRight.react"),{className:"_5vx7",direction:this.props.floatDirection},e))};d.$7=function(){var a=this.wrapper.offsetHeight,c=b("ViewportBounds").getTop();this.$1=b("ViewportBounds").addTop(c+a);b("killswitch")("SEARCH_WWW_XUIPAGENAVIGATION_AUGMENT_FIXED_POSITION")&&b("Arbiter").subscribe("page_transition",function(){this.$1.remove()})};d.$6=function(){this.$5.addSubscriptions(b("Event").listen(window,"resize",b("throttle")(this.resizeNavbarGroups,30)))};d.$8=function(){var a=this;this.$5.addSubscriptions(b("Event").listen(window,"scroll",function(){var c;c=b("Vector").getScrollPosition().y>((c=a.props.scrollThreshold)!=null?c:0);if(a.$2===c)return;a.$2=c;var d=b("ReactDOM").findDOMNode(a);d!=null&&(d instanceof Element||typeof d==="string")&&b("CSS").conditionClass(d,"_51j8",c)}))};return c}(b("React").PureComponent);a.defaultProps={showDropShadowOnScroll:!0,scrollThreshold:0,floatDirection:"both"};a.Group=b("XUIPageNavigationGroup.react");a.Item=b("XUIPageNavigationGroup.react").Item;e.exports=a}),null);
__d("SearchResultPageNavigationPerfTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:SearchResultPageNavigationPerfLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:SearchResultPageNavigationPerfLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:SearchResultPageNavigationPerfLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setBemDisplayTime=function(a){this.$1.bem_display_time=a;return this};c.setBrowseLayoutPageletDisplayTime=function(a){this.$1.browse_layout_pagelet_display_time=a;return this};c.setCaller=function(a){this.$1.caller=a;return this};c.setFilterType=function(a){this.$1.filter_type=a;return this};c.setIemDisplayTime=function(a){this.$1.iem_display_time=a;return this};c.setNavType=function(a){this.$1.nav_type=a;return this};c.setNavigationStartTime=function(a){this.$1.navigation_start_time=a;return this};c.setReferrer=function(a){this.$1.referrer=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={appid:!0,bem_display_time:!0,browse_layout_pagelet_display_time:!0,caller:!0,filter_type:!0,iem_display_time:!0,nav_type:!0,navigation_start_time:!0,referrer:!0,session_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("FacebarTypeaheadRefreshNullstate",["emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=!1,h;a=function(){__p&&__p();function a(a){this.$1=a.getCore(),h=this.$1.data}var c=a.prototype;c.enable=function(){this.$1.subscribe("focus",function(){g&&(h.refreshNullstate(),g=!1)})};c.disable=function(){};a.setIsNullstateStale=function(a){g=a};a.forceNullstateRefresh=function(a,c){a===void 0&&(a=b("emptyFunction")),c===void 0&&(c=b("emptyFunction")),h.refreshNullstate(a,c)};return a}();e.exports=a}),null);
__d("SearchLHCFilters.react",["DOMContainer.react","React","ReactDOM","onEnclosingPageletDestroy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){var a=this,c=b("ReactDOM").findDOMNode(this);c instanceof Element&&b("onEnclosingPageletDestroy")(c,function(){var c=b("ReactDOM").findDOMNode(a);c&&c.parentNode&&b("ReactDOM").unmountComponentAtNode(c.parentNode)})};d.render=function(){return b("React").createElement(b("DOMContainer.react"),null,this.props.content)};return c}(b("React").Component);e.exports=a}),null);
__d("SearchResultPageElementID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BOOTSTRAP_ENTITY_MODULE:"bootstrap_entity_module",LAYOUT_PAGELET:"initial_browse_result",LAYOUT_PAGELET_DISPLAY_DEPENDENCY:"pagelet_loader_initial_browse_result",INDEPENDENT_MODULE:"browse:independent:modules:pagelet",INDEPENDENT_MODULE_DISPLAY_DEPENDENCY:"pagelet_loader_browse:independent:modules:pagelet",LHC_CONTAINER:"browse_lhc_container",LHC_TABS_PAGELET:"pagelet_lhc_tabs",LHC_FILTERS_PAGELET:"pagelet_lhc_filters",LHC_NAV_PAGELET:"pagelet_lhc_nav",LHC_PLACES_PAGELET:"pagelet_lhc_places",LHC_MP_PAGELET:"pagelet_lhc_marketplace",LHC_GALAHAD_EMPTY_PAGELET:"pagelet_lhc_galahad_empty",CONTENT_CONTAINER:"browse_result_area",RHC_CONTAINER:"browse_rhc_container",RHC_RELATED_SEARCHES_PAGELET:"pagelet_rhc_related_searches",RHC_TRENDING_PAGELET:"pagelet_rhc_trending",RHC_PLACES_PAGELET:"pagelet_rhc_places",RHC_INFOBOX_PAGELET:"pagelet_rhc_infobox"})}),null);
__d("SearchResultPageNavigation",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NORMAL:"normal",INITIAL_QUICKLING:"initial_quickling",QUICKLING:"quickling",ASYNC:"async"})}),null);
__d("SearchResultPageNavigationPerfMetrics",["Arbiter","SearchResultPageElementID","SearchResultPageNavigation","SearchResultPageNavigationPerfTypedLogger","SubscriptionsHandler","URI","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=/\/search\/.+/g,h=[b("SearchResultPageElementID").INDEPENDENT_MODULE_DISPLAY_DEPENDENCY,b("SearchResultPageElementID").LAYOUT_PAGELET_DISPLAY_DEPENDENCY],i=null,j=null,k=null;a=function(){__p&&__p();function a(a){__p&&__p();this.$1=null;this.$2=null;this.$3=!1;this.$4=0;i=this;k=new(b("SearchResultPageNavigationPerfTypedLogger"))();this.$4=this.$5();a=new(b("URI"))(window.location).getPath();a.match(g)&&this.$6();this.$7(a)}var c=a.prototype;c.enable=function(){var a=this;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Arbiter").subscribe("pre_page_transition",function(c,d){a.$3=j!=null,a.$4=b("performanceAbsoluteNow")(),j=null,k=new(b("SearchResultPageNavigationPerfTypedLogger"))(),a.$7(d.to.getPath())}))};c.disable=function(){this.$8(),this.$1!=null&&(this.$1.release(),this.$1=null)};c.$6=function(){var c=function(){var c=h[d];b("Arbiter").subscribeOnce(c+"_displayed",function(b,d){a.setElementDisplayEndTime(c)},"new")};for(var d=0;d<h.length;d++)c()};c.$9=function(){if(this.$2==null)return;this.$2.addSubscriptions(b("Arbiter").subscribe("BigPipe/init",function(b,c){b=function(){var b=h[d];c.arbiter.subscribe(b+"_displayed",function(c,d){a.setElementDisplayEndTime(b)},"new")};for(var d=0;d<h.length;d++)b()},"new"))};c.$7=function(a){!a.match(g)?this.$8():this.$2==null&&(this.$2=new(b("SubscriptionsHandler"))(),this.$9())};c.$5=function(){var a=window.performance||window.msPerformance;return!a||!a.timing?0:a.timing.navigationStart};c.$8=function(){k=null,j=null,this.$3=!1,this.$4=0,this.$2!=null&&(this.$2.release(),this.$2=null)};c.logSessionNavigationStats=function(){if(j==null||k==null)return;j.nav_type==b("SearchResultPageNavigation").QUICKLING&&(this.$3||(j.nav_type=b("SearchResultPageNavigation").INITIAL_QUICKLING));k.setVC().setAppID(j.app_id).setReferrer(j.ref).setCaller(j.callsite).setFilterType(j.filter_type).setSessionID(j.session_id).setNavType(j.nav_type).setNavigationStartTime(Math.floor(this.$4)).log()};a.setElementDisplayEndTime=function(a){__p&&__p();if(i==null||k==null)return;var c=Math.floor(b("performanceAbsoluteNow")());switch(a){case b("SearchResultPageElementID").BOOTSTRAP_ENTITY_MODULE:k.setBemDisplayTime(c);break;case b("SearchResultPageElementID").INDEPENDENT_MODULE_DISPLAY_DEPENDENCY:k.setIemDisplayTime(c);break;case b("SearchResultPageElementID").LAYOUT_PAGELET_DISPLAY_DEPENDENCY:k.setBrowseLayoutPageletDisplayTime(c);i.logSessionNavigationStats();break;default:break}};a.setSessionStats=function(a){j=a};return a}();e.exports=a}),null);
__d("XAsyncSearchStoryModalViewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/search/async/story_modal/",{browse_location:{type:"String",defaultValue:"browse_location:browse"},story_token:{type:"String",required:!0},unicorn_story_id:{type:"String",required:!0},link_type:{type:"String",defaultValue:"modal"},expand_comments:{type:"Bool",defaultValue:!1}})}),null);
__d("DenseStoryInlineExpansion",["csx","AsyncRequest","Bootloader","Event","Parent","XAsyncSearchStoryModalViewController","tidyEvent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={addListenerForClick:function(a,c){var d=this;b("tidyEvent")(b("Event").listen(a,"click",function(a){var b=a.target;if(d.isClickToNewWindow(a)||b instanceof HTMLElement&&d.isClickOnHeaderEntity(b))return;a.preventDefault();a.stopPropagation();d.handleModalClick(c,a)}))},handleModalClick:function(a,c){var d=c.target,e=this.shouldExpandComments(d);b("Bootloader").loadModules(["AsyncDialog"],function(c){var f=b("XAsyncSearchStoryModalViewController").getURIBuilder().setString("story_token",a.storyToken).setString("unicorn_story_id",a.unicornStoryID).setString("browse_location",a.browseLocation).setBool("expand_comments",e).getURI();f=new(b("AsyncRequest"))(f);d instanceof Element&&f.setRelativeTo(d);c.send(f)},"DenseStoryInlineExpansion")},shouldExpandComments:function(a){if(!(a instanceof HTMLElement))return!1;a=b("Parent").bySelector(a,"._78k8");return a!=null},isClickOnHeaderEntity:function(a){a=b("Parent").bySelector(a,"._vwp")||b("Parent").byClass(a,"profileLink")||b("Parent").bySelector(a,"._7gyi")||b("Parent").bySelector(a,"._6fcp");return a!=null},isClickToNewWindow:function(a){return a.ctrlKey||a.metaKey}};e.exports=a}),null);
__d("Queue",[],(function(a,b,c,d,e,f){__p&&__p();var g={};a=function(){"use strict";__p&&__p();function a(a){this._timeout=null,this._interval=(a==null?void 0:a.interval)||0,this._processor=a==null?void 0:a.processor,this._queue=[],this._stopped=!0}var b=a.prototype;b._dispatch=function(a){__p&&__p();var b=this;a===void 0;if(this._stopped||this._queue.length===0)return;a=this._processor;if(a==null){this._stopped=!0;throw new Error("No processor available")}var c=this._interval;if(c!=null)a.call(this,this._queue.shift()),this._timeout=setTimeout(function(){return b._dispatch()},c);else while(this._queue.length)a.call(this,this._queue.shift())};b.enqueue=function(a){this._processor&&!this._stopped?this._processor(a):this._queue.push(a);return this};b.start=function(a){a&&(this._processor=a);this._stopped=!1;this._dispatch();return this};b.isStarted=function(){return!this._stopped};b.dispatch=function(){this._dispatch(!0)};b.stop=function(a){this._stopped=!0;a&&this._timeout!=null&&clearTimeout(this._timeout);return this};b.merge=function(a,b){if(b){(b=this._queue).unshift.apply(b,a._queue)}else{(b=this._queue).push.apply(b,a._queue)}a._queue=[];this._dispatch();return this};b.getLength=function(){return this._queue.length};a.get=function(b,c){var d;b in g?d=g[b]:d=g[b]=new a(c);return d};a.exists=function(a){return a in g};a.remove=function(a){return delete g[a]};return a}();e.exports=a}),null);
__d("WasmosisDefaultCohort",["Promise","regeneratorRuntime","Bootloader","bx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("bx").getURL(b("bx")("669874")),h=b("Promise").reject(new Error("wasmosis unsupported"));window.fetch&&window.WebAssembly&&window.WebAssembly.instantiateStreaming&&(h=function(){__p&&__p();var a,c,d,e,f,h,i,j,k;return b("regeneratorRuntime").async(function(l){__p&&__p();while(1)switch(l.prev=l.next){case 0:a=window.fetch(g);c=WebAssembly.instantiateStreaming(a);d=new(b("Promise"))(function(a){b("Bootloader").loadModules(["WasmosisCore","WasmosisCohort"],function(b,c){a([b,c])},"WasmosisDefaultCohort")});l.next=5;return b("regeneratorRuntime").awrap(c);case 5:e=l.sent;f=e.instance;l.next=9;return b("regeneratorRuntime").awrap(d);case 9:h=l.sent;i=h[0];j=h[1];k=new i(f);return l.abrupt("return",new j(k));case 14:case"end":return l.stop()}},null,this)}());e.exports={get:function(){return h}}}),null);
__d("WasmosisMemory",[],(function(a,b,c,d,e,f){"use strict";e.exports={getByteSlice:function(a,b,c){return new Uint8Array(a,b,c)},getJSString:function(a,b,c){return new TextDecoder("utf-8").decode(this.getByteSlice(a,b,c))}}}),null);
__d("WasmosisRelocatableModule",["invariant","regeneratorRuntime","Promise"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="wasmosis_dylink",i="__data_start",j="memory";a=function(){__p&&__p();a.compileStreaming=function(d){__p&&__p();var c;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:window.fetch||g(0,6353);e.next=3;return b("regeneratorRuntime").awrap(WebAssembly.compileStreaming(window.fetch(d)));case 3:c=e.sent;return e.abrupt("return",new a(c));case 5:case"end":return e.stop()}},null,this)};function a(a){__p&&__p();this.module=a;var b=WebAssembly.Module.customSections(a,h);b=b[0];b||g(0,1278);b=new DataView(b);this.dataSize=b.getUint32(0,!0);WebAssembly.Module.imports(a).find(function(a){var b=a.name;a=a.kind;return b===j&&a==="memory"})!==void 0||g(0,1279);this.dataSize===0||WebAssembly.Module.imports(a).find(function(a){var b=a.name;a=a.kind;return b===i&&a==="global"})!==void 0||g(0,1280)}var c=a.prototype;c.instantiate=function(a,c){__p&&__p();var d,e,f,g,h,k;return b("regeneratorRuntime").async(function(l){__p&&__p();while(1)switch(l.prev=l.next){case 0:e=0;this.dataSize>0&&(f=a.alloc(this.dataSize),e=f.base);g=babelHelpers["extends"]((d={},d[j]=a.getMemory(),d[i]=e,d),a.getRuntimeImports());l.next=7;break;h=Object.keys(g).find(function(a){return a in c});if(!(h!==void 0)){l.next=7;break}return l.abrupt("return",b("Promise").reject(new Error("user import "+h+" conflicts with core")));case 7:k={env:babelHelpers["extends"]({},g,c)};return l.abrupt("return",WebAssembly.instantiate(this.module,k));case 9:case"end":return l.stop()}},null,this)};return a}();e.exports=a}),null);
__d("WasmosisSnappy",["invariant","regeneratorRuntime","WasmosisDefaultCohort","WasmosisMemory","WasmosisRelocatableModule","bx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("bx").getURL(b("bx")("689124")),i=function(){__p&&__p();function a(a){var b=a.instance.exports,c=b.snappy_compress;b=b.snappy_max_compress_len;c||g(0,6357);b||g(0,6356);this.$1=a;this.$2=c;this.$3=b}var c=a.prototype;c.compress=function(a){__p&&__p();var c=this.$1.cohort.getCore(),d=c.alloc(a.byteLength),e=b("WasmosisMemory").getByteSlice(c.getMemory().buffer,d.base,a.byteLength);e.set(a);e=this.$4(d,a.byteLength);a=e[0];e=e[1];var f=b("WasmosisMemory").getByteSlice(c.getMemory().buffer,a.base,e);e=new Uint8Array(e);e.set(f);c.free(d);c.free(a);return e};c.compressStringToBase64=function(a){__p&&__p();var c=this.$1.cohort.getCore(),d=c.alloc(a.length);try{var e=b("WasmosisMemory").getByteSlice(c.getMemory().buffer,d.base,a.length);for(var f=0;f<a.length;f++){var g=a.charCodeAt(f);if(g&-128)throw new Error("cannot compress non-ASCII character");e[f]=g}return this.$5(d,a.length)}finally{c.free(d)}};c.compressToBase64=function(a){var c=this.$1.cohort.getCore(),d=c.alloc(a.byteLength),e=b("WasmosisMemory").getByteSlice(c.getMemory().buffer,d.base,a.byteLength);e.set(a);e=this.$5(d,a.byteLength);c.free(d);return e};c.$5=function(a,c){var d=this.$1.cohort.getCore();a=this.$4(a,c);c=a[0];a=a[1];var e=b("WasmosisMemory").getByteSlice(d.getMemory().buffer,c.base,a),f="";for(var g=0;g<a;g++)f+=String.fromCharCode(e[g]);d.free(c);return window.btoa(f)};c.$4=function(a,b){var c=this.$1.cohort.getCore(),d=this.$3(b);c=c.alloc(d);a=this.$2(a.base,b,c.base,d);return[c,a]};return a}();e.exports=function(){__p&&__p();var a,c,d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:a=b("WasmosisRelocatableModule").compileStreaming(h);e.next=3;return b("regeneratorRuntime").awrap(b("WasmosisDefaultCohort").get());case 3:c=e.sent;e.t0=b("regeneratorRuntime");e.t1=c;e.next=8;return b("regeneratorRuntime").awrap(a);case 8:e.t2=e.sent;e.t3=e.t1.instantiate.call(e.t1,"snappy",e.t2);e.next=12;return e.t0.awrap.call(e.t0,e.t3);case 12:d=e.sent;return e.abrupt("return",new i(d));case 14:case"end":return e.stop()}},null,this)}()}),null);
__d("SnappyCompressUtilWasmosis",["FBLogger","SnappyCompressUtil","WasmosisSnappy","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null;b("promiseDone")(b("WasmosisSnappy"),function(a){g=a},function(a){b("FBLogger")("wasmosis_snappy").catching(a).debug("failed to compile WasmosisSnappy")});a={compressUint8ArrayToSnappy:function(a){__p&&__p();if(a===null||a===void 0)return null;if(g===null){b("FBLogger")("wasmosis_snappy").debug("falling back to JS due to no async compilation result");return b("SnappyCompressUtil").compressUint8ArrayToSnappy(a)}try{return g.compressToBase64(a)}catch(a){b("FBLogger")("wasmosis_snappy").catching(a).warn("error compressing input array");return null}},compressStringToSnappy:function(a){if(g===null){b("FBLogger")("wasmosis_snappy").debug("falling back to JS due to no async compilation result");return b("SnappyCompressUtil").compressStringToSnappy(a)}try{return g.compressStringToBase64(a)}catch(a){b("FBLogger")("wasmosis_snappy").catching(a).warn("error compressing input string");return null}}};e.exports=a}),null);
__d("XRelayBootloadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/relay/bootload/",{component:{type:"String",required:!0},params:{type:"String",required:!0},route:{type:"String",required:!0},uri:{type:"String",required:!0}})}),null);